# 📂 data/ - 生成結果暫存區

## 📝 資料夾概述

`data/` 是一個 **動態生成** 的目錄，專門用於暫存從外部 AI 自動化平台 (N8N) 回傳的媒體檔案。

每當使用者在介面上點擊「進行生成」後，後端程式 (`fun.py`) 會接收一個包含圖片與影片的壓縮檔 (Zip)，並將其解壓縮至此資料夾中，供前端介面讀取並顯示。

## 📂 預期內容物 (Expected Contents)

在成功執行一次生成請求後，此資料夾內將包含以下兩個由 AI 產出的檔案：

| 檔案名稱 | 類型 | 介面顯示位置 | 用途說明 |
| --- | --- | --- | --- |
| **`image.png`** | 圖片 (PNG) | 介面左下方的「情境還原圖」 | AI 根據人物、風格與器物特徵生成的靜態情境圖。 |
| **`video.mp4`** | 影片 (MP4) | 介面右下方的「情境影片」 | 基於生成的圖片，由 AI 進一步運算產生的動態影片。 |

## 🔄 運作流程與生命週期

此資料夾的運作依賴 `fun.py` 中的 `InternetSeletter` 類別：

1. **接收回應**：程式向 N8N Webhook 發送請求，並收到回傳的 Zip 二進位資料。
2. **自動建立**：若 `data/` 資料夾不存在，程式會自動建立。
3. **解壓縮**：使用 `zipfile` 模組將 Zip 內容解壓至此目錄。
4. **前端讀取**：`main.py` 透過固定路徑 (`./data/image.png`, `./data/video.mp4`) 讀取檔案並顯示於 Gradio 介面。
5. **覆蓋更新**：**這是一個暫存區**。每次進行新的生成請求時，新下載的檔案會直接**覆蓋**舊檔。

## ⚠️ 注意事項

* **資料揮發性**：此資料夾僅用於暫存當下的生成結果。若您希望保留某次生成的圖片或影片，請務必手動將檔案複製到其他位置，否則下一次生成時將被覆寫。
* **檔名依賴**：Python 程式碼中寫死了讀取路徑。因此，N8N 端打包 Zip 檔時，**內部的檔名必須嚴格命名為 `image.png` 與 `video.mp4**`，否則系統會找不到檔案而無法顯示。